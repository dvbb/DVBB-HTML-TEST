<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="lib/vue.js"></script>
</head>
<body>
    <div id='app'>
        <cpn></cpn>
        <cpn></cpn>
        <cpn></cpn>
    </div>
    

    <!-- 定义组件的html -->
    <template id="cpn">
        <div>
            <h2>当前计数:{{ counter }}</h2>
            <button @click="add">+</button>
            <button @click="sub">-</button>
        </div>
    </template>

    <script>
        /*为什么组件中的data是一个函数？
            为了防止组件的互相影响。data中返回一个函数，则每个cpn（组件）创建的实例，都会有一个属于他
            自己的数据对象。
            若想所有的cpn都操作同一个对象，可以定义为
                    const obj={
                        counter: 0
                    }
                    或
                    data(){
                        return obj
                    }
            但这属于一种严重的设计错误,违背组件的设计思想
        */
        Vue.component('cpn',{
            template: '#cpn',
            data(){
                return{
                    counter: 0
                }
            },
            methods: {
                add(){
                    this.counter ++ 
                },
                sub(){
                    this.counter --
                }
            }
        })

        var vm = new Vue({
            el: '#app',
            data: {},
            methods: {}
        })

    </script>
</body>
</html>